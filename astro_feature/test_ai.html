<!DOCTYPE html>
<meta charset="utf-8">
<title>å¤ªé™½æ˜Ÿåº§é€Ÿç®— â€“ Astronomy Engine</title>

<!-- ä¾èˆŠä½¿ç”¨ 2.1.5 browser bundle -->
<script src="https://cdn.jsdelivr.net/npm/astronomy-engine@2.1.5/astronomy.browser.min.js"></script>
<!-- <style>
  body{font:16px/1.5 system-ui, sans-serif;padding:2rem;text-align:center}
  label{display:inline-block;margin:.5rem 1rem}
  #result{margin-top:1.2rem;font-size:1.4rem;font-weight:bold}
</style> -->

<style>
  body{font:16px/1.5 system-ui,sans-serif;padding:2rem;text-align:center}
  label{display:inline-block;margin:.5rem 1rem}
  #result{margin-top:1.4rem;font-size:1.25rem;font-weight:600;white-space:pre-line}
  table{margin:1rem auto;border-collapse:collapse}
  th,td{padding:.3rem .7rem;border:1px solid #ccc}
  th{background:#f6f6f6}
  /* === Collapsible Panel styles === */
  .collapsible-wrapper{margin-top:1.4rem;text-align:center}
  .collapsible-btn{
    background:#0078d4;color:#fff;border:none;border-radius:4px;
    padding:.6rem 1.2rem;font-size:1rem;cursor:pointer
  }
  .collapsible-panel{
    max-height:0;            /* ä½¿ç”¨è¦–çª—é«˜åº¦ï¼Œé¿å…å…§å®¹æº¢å‡º */
    overflow-y:auto;            /* å‚ç›´æ–¹å‘å‡ºç¾å…§å®¹æ™‚é¡¯ç¤ºæ²è»¸ */
    transition:max-height .35s ease,padding .35s ease;
    background:#f9f9f9;
    border:1px solid #ddd;
    border-radius:4px;
    width:60%;
    margin:1rem auto;
    padding:0 1rem;            /* å…ˆç•™ paddingï¼Œæ”¶åˆæ™‚æœƒè¢« transition æ”¶å› */
  }
  .collapsible-panel.open{
  max-height:60vh;           /* å±•é–‹æ™‚æœ€é«˜ 60% è¢å¹•é«˜åº¦ */
  padding:1rem;
  overflow-y:auto;           /* è¶…å‡ºæ™‚å‡ºç¾å‚ç›´æ²è»¸ */
  }
  /* JSON block styling */
  .collapsible-panel pre{
    text-align:left;
    white-space:pre-wrap;      /* å…è¨±è‡ªå‹•æ›è¡Œ */
    word-break:break-all;      /* é•·å­—ä¸²ä¹Ÿå¯æ–·è¡Œ */
    margin:0;                  /* ç§»é™¤é è¨­å¤–è· */
    font-family:monospace;     /* ä¸€è‡´å­—å‹ */
  }
  .copy-btn{
    margin-top:.6rem;background:#28a745;color:#fff;border:none;
    border-radius:4px;padding:.4rem .9rem;cursor:pointer
  }
  .copy-toast{display:none;margin-left:.5rem;color:#28a745}
  /* === Birth card === */
  .birth-card{
    display:flex;
    flex-direction:column;
    gap:.8rem;
    margin:1.4rem auto;
    width:min(320px,90%);
    padding:1.2rem;
    border:2px solid #0078d4;
    border-radius:10px;
    box-shadow:0 2px 8px rgba(0,0,0,.08);
  }
  .birth-card legend{
    font-weight:700;
    margin-bottom:.4rem;
  }
  .birth-card .field{
    display:flex;
    flex-direction:column;
  }
  .birth-card label{font-weight:600;margin-bottom:.2rem;text-align:left}
  .birth-card input{
    padding:.5rem;
    font-size:1rem;
    border:1px solid #ccc;
    border-radius:4px;
  }
  .birth-card button{
    margin-top:.6rem;
    padding:.6rem;
    font-size:1rem;
    background:#0078d4;
    color:#fff;
    border:none;
    border-radius:6px;
    cursor:pointer;
  }
  
</style>

<!-- === Birth Data Card === -->
<fieldset class="birth-card">
  <legend>è¼¸å…¥å‡ºç”Ÿè³‡æ–™</legend>

  <div class="field">
    <label for="date">ğŸ“… å‡ºç”Ÿæ—¥æœŸ</label>
    <input id="date" type="date" placeholder="YYYY-MM-DD" value="2002-06-12" required>
  </div>

  <div class="field">
    <label for="time">ğŸ•°ï¸ å‡ºç”Ÿæ™‚é–“</label>
    <input id="time" type="time" step="1" placeholder="HH:MM:SS" value="17:10:00" required>
  </div>

  <button id="calc-btn" type="button">ğŸ” ç”¢ç”Ÿæ˜Ÿç›¤</button>
</fieldset>


<!-- === Collapsible Panel for LLM-friendly JSON === -->
<div class="collapsible-wrapper">
  <button id="toggle-json" class="collapsible-btn">
    â¡ï¸ å±•é–‹å¯è¤‡è£½æ˜Ÿç›¤æ–‡æœ¬ (LLM-friendly)
  </button>
  <button id="copy-json-top" class="copy-btn" title="è¤‡è£½æ˜Ÿç›¤ JSON">
    ğŸ“‹ è¤‡è£½
  </button>
  <span id="copy-toast-top" class="copy-toast">å·²æˆåŠŸè¤‡è£½ï¼</span>


  <div id="json-panel" class="collapsible-panel">
    <pre id="json-output">// ç­‰å¾…è¨ˆç®—çµæœç”¢ç”Ÿ JSON â€¦</pre>

    <button id="copy-json" class="copy-btn">ğŸ“‹ è¤‡è£½</button>
    <span id="copy-toast-bottom" class="copy-toast">å·²æˆåŠŸè¤‡è£½ï¼</span>
  </div>
</div>
<div id="result"></div>


<script src="astro.js"></script>
<script>
  // === Collapsible toggle ===
  document.getElementById('toggle-json').addEventListener('click', function(){
    const panel = document.getElementById('json-panel');
    panel.classList.toggle('open');
    this.innerHTML = panel.classList.contains('open')
      ? 'â¬†ï¸ æ”¶èµ·å¯è¤‡è£½æ˜Ÿç›¤æ–‡æœ¬ (LLM-friendly)'
      : 'â¡ï¸ å±•é–‹å¯è¤‡è£½æ˜Ÿç›¤æ–‡æœ¬ (LLM-friendly)';
  });
</script>